\RequirePackage{tikz}

\setbeamercolor*{background canvas}{bg=darkgray}
\setbeamertemplate{navigation symbols}{}

\setbeamercolor{section in toc}{fg=white}
\setbeamercolor{subsection in toc}{fg=lightgray}

\setbeamercolor*{title}{fg=white}
\setbeamerfont{title}{size=\Huge}

\setbeamerfont{subtitle}{size=\large}

\setbeamercolor{frametitle-left}{fg=cyan}
\setbeamercolor{frametitle}{fg=white}
\setbeamerfont{frametitle}{size=\Large}
\setbeamerfont{framesubtitle}{size=\small}
\setbeamercolor*{itemize item}{fg=lightgray}
\setbeamercolor*{itemize subitem}{fg=lightgray}
\setbeamercolor*{normal text}{fg=white}

% https://www.overleaf.com/latex/examples/building-a-custom-beamer-theme/hkbgktmpjckz
\newlength{\marginedPaperWidth}{\paperwidth - 0.2cm}
% Frame title
\defbeamertemplate*{frametitle}{cyan}[1][]{
  \vskip0.5cm%
    \begin{beamercolorbox}[wd=\paperwidth,ht=1.2cm]{frametitle}
    \begin{tikzpicture}
    \useasboundingbox(0,0) rectangle(\the\paperwidth,1.2);
    {\usebeamercolor[fg]{frametitle-left}}
    \fill[color=frametitle-left.fg] (0.2,0) rectangle(\the\marginedPaperWidth,1.2);
     \ifx\insertframesubtitle\@empty%
        {\node[anchor=west] at (0.3,0.61){\usebeamerfont{frametitle}\insertframetitle};}
        \else%
        {\node[anchor= west] at (0.2,0.81){\usebeamerfont{frametitle}\insertframetitle};%
         \node[anchor= west] at (0.4,0.25){\usebeamerfont{framesubtitle}-\insertframesubtitle};}%
        \fi
    \end{tikzpicture}
  \end{beamercolorbox}
}